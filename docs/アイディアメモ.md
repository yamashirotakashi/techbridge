PJINITの挙動に大きな勘違いがあるので、必ず認識を修正。

PJINITは、3つのシートから情報を取得、2つのシートに記入する
N番号をキーに、

1．情報取得
発行計画（山城）　17DKsMGQ6krbhY7GIcX0iaeN-y8HcGGVkXt3d4oOckyQ　※これがメインのシート！
　2020.10-　から、　
    A列のN番号をキーとして、
    C列：リポジトリ・チャネル名
    H列：書籍名
    K列：著者SlackID
    M列：著者GithubID
    T列：著者メールアドレス
技術書典購入リスト　1JJ_C3z0txlJWiyEDl0c6OoVD5Ym_IoZJMMf5o76oV4c
　技術書典18　から、
    M列のN番号をキーとして、
    D列：書籍URL（購入リスト）
以上を取得する。これ以外のシートは絶対に関係がないので認識を修正。特に、発行リスト作成用、は全く関係が無い！！！

2．情報書き込み
発行計画（山城）　17DKsMGQ6krbhY7GIcX0iaeN-y8HcGGVkXt3d4oOckyQ　※これがメインのシート！
　2020.10-　の、
    E列：書籍URL（購入リスト）
　手動タスク管理　の
    A列からJ列に、実行日時	Nコード	ステータス	Slackチャンネル	GitHubリポジトリ	手動タスク数	要対応内容	実行結果詳細	山城敬	テスト実行　の実行logを記入する

    これ以外のシートは全く関係がないので絶対に読み書きしない！！！

条件追加。
1．Phase毎に一旦作業を停止し、[QG]subagentでによる監査、Serena subagentによる監査を絶対に行う。これらの修正指示は絶対である
2．この実装は、フェーズ毎にセッションを一時中断し、切り替える。このため、フェーズ完了後、かならずSerena subagentによる監査、[QG]による監査を行い、必要な修正を行った後、hand_over.mdにそのフェーズでの実装内容、途中で手戻りしたテーマ、修正指示を受けたテーマなど、実装に関わる全ての記憶を記録し、次のセッションに受け渡すこと。
3．セッション再開後、[PJINIT]切り替え後、まず最初にHandover.mdを読み、そこまでのセッションでの実装状況を確認するように、Claude.mdなど自動読み込みドキュメントに明記する
4．セッション再開後、Handover.mdを精査、制約条件完全遵守フレームワーク、超保守的リファクタリング計画のドキュメントも精査。現時点の作業Phaseを確認後、実装を再開する。
5．実装は全てSerena subagent、またはSerenaMCPを使うこと。通常のEditコマンドは使わない。他のMCPツールも使わない。これは絶対である。
まず1から5の条件を踏まえて、ドキュメントに必要な変更を加え、ユーザーの実装開始指示をまて。

ここで一度セッションを切り替える。次の[PJINIT]セッションはこのrefactoring実装の開始・継続が最優先実施項目であることを、このプロジェクトのClaude.md等に記載せよ



[PJINIT]refactoring実装を続行。Phaseの確認などを、Handover.mdや実装ドキュメントから確認。その後、Serena subagentによって実装を開始。必ず全ての動作をsubagentで行う事。Serenaの不調などでsubagent実行が出来ないときは作業を停止し、ユーザーの指示を待て。Phaseの終了後、一旦作業を停止し、[QG]subagentでによる監査、Serena subagentによる監査を絶対に行う。これらの修正指示は絶対である。



このセッションの実装内容を[QG]subagentで監査。これをもとに、Serena subagentで修正。その後、[QG]subagentで再度監査。全てsubagentで実行。MCPの不調が起こった場合は、作業を一時停止し、ユーザーの支持を待て。


セッション終了作業実行。推奨アプローチをドキュメントに追記。その後hand_over.mdにそのフェーズでの実装内容、監査指示の内容、監査で指示された推奨実行内容や推奨アプローチ、途中で手戻りしたテーマ、修正指示を受けたテーマ、次セッションでの開始タスクの内容など、実装に関わる全ての記憶を記録し、次のセッションに受け渡すこと。ファイル編集はSerena subagentまたはfilesystem subagentsで行う。


[QG]の指摘をうけ、

1. **従来のGUIに準拠、ただし、機能を損なわない変更のみ可** - PyQt6 UIレイアウト・デザイン・操作性の完全保持
2. **従来のプロジェクト初期化のワークフローを一切変えない** - 初期化手順・順序・処理内容の完全保持
3. **従来のGitHub/Slack/シート連携は絶対に変えない** - API統合動作・データフロー・機能の完全保持
4. **モック実装、動くだけ実装、テストを通すための実装禁止**
5. **TDD厳守、ハードコード禁止、単一責務原則厳守、スパゲッティーコード撲滅** - 確実な抽象化

これらの前提条件を厳守し、[QG]subagentとZen-subagent、Serena-subagentが協力して、実装計画を刷新。

API統合動作・データフロー・機能の完全保持

[PJINIT]
[NEXTMCP]
[bupserena]